<div class="container">
  <h2>💬 Chat de Comunicación</h2>

  <!-- Lista de Casas -->
  <ul class="casas-list">
    <li *ngFor="let casa of casas; trackBy: trackById" class="casa-item">
      <span class="casa-numero">🏠 Casa {{ casa.numero }}</span>
      <span class="casa-huesped">👤 {{ casa.huesped }}</span>
      <button class="btn-chat" (click)="seleccionarCasa(casa)">📩 Chat</button>
    </li>
  </ul>

  <!-- Ventana de Chat -->
  <div *ngIf="casaSeleccionada" class="chat-box">
    <h3>📲 Chat con Casa {{ casaSeleccionada.numero }} - {{ casaSeleccionada.huesped }}</h3>
    <div class="chat-messages">
      <div *ngFor="let mensaje of casaSeleccionada.mensajes" [class.mensaje-propio]="mensaje.propietario" class="mensaje">
        <span class="mensaje-texto">{{ mensaje.texto }}</span>
        <span class="mensaje-hora">{{ mensaje.hora }}</span>
      </div>
    </div>
    <div class="chat-input">
      <input [(ngModel)]="nuevoMensaje" placeholder="Escribe un mensaje..." />
      <button class="btn-enviar" (click)="enviarMensaje()">📤</button>
    </div>
  </div>
</div>
